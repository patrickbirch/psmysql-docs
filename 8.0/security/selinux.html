



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation">
      
      
        <meta name="author" content="Percona LLC">
      
      
        <link rel="canonical" href="https://docs.percona.com/percona-server/8.0/8.0/security/selinux.html">
      
      <link rel="icon" href="../_static/percona_favicon.ico">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.5.6">
    
    
      
        <title>Working with SELinux - Percona Server for MySQL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.3/css/line.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="../css/percona.css">
    
      <link rel="stylesheet" href="../css/version-select.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-343802-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");ga("send","event","feedback","click",t,e),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){ga("send","pageview",e.pathname)})});var e=document.createElement("script");e.async=!0,e.src="https://www.google-analytics.com/analytics.js",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#working-with-selinux" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://percona.com/software/documentation" class="md-header__button md-logo" aria-label="Percona Server for MySQL" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis"><a href="https://www.percona.com/software/documentation">
            Percona Product Documentation
          </a></span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Working with SELinux
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/percona/psmysql-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/psmysql-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Percona Server for MySQL" class="md-nav__button md-logo" aria-label="Percona Server for MySQL" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    Percona Server for MySQL
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/percona/psmysql-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/psmysql-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../percona_xtradb.html" class="md-nav__link">
        The Percona XtraDB Storage Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ps-versions-comparison.html" class="md-nav__link">
        List of features available in Percona Server for MySQL releases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_comparison.html" class="md-nav__link">
        Percona Server for MySQL Feature Comparison
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changed_in_version.html" class="md-nav__link">
        Changed in Percona Server 8.0
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation.html" class="md-nav__link">
        Installing Percona Server for MySQL 8.0.29-21
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Post-Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Post-Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Post-Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/post-installation.html" class="md-nav__link">
        Post-Installation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          In-place upgrades
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="In-place upgrades" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          In-place upgrades
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_guide.html" class="md-nav__link">
        Percona Server for MySQL In-Place Upgrading Guide: From 5.7 to 8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_using_percona_repos.html" class="md-nav__link">
        Upgrading using the Percona repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_tokudb_myrocks.html" class="md-nav__link">
        Upgrading from Systems that Use the MyRocks or TokuDB Storage Engine and Partitioned Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_using_standalone_packages.html" class="md-nav__link">
        Upgrading using Standalone Packages
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Run in Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Run in Docker" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Run in Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/docker.html" class="md-nav__link">
        Running Percona Server for MySQL in a Docker Container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/docker-config.html" class="md-nav__link">
        Docker config
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Scalability Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Scalability Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Scalability Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scalability/innodb_io.html" class="md-nav__link">
        Improved InnoDB I/O Scalability
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Performance Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Performance Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Performance Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/adaptive_network_buffers.html" class="md-nav__link">
        Adaptive Network Buffers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/aio_page_requests.html" class="md-nav__link">
        Multiple page asynchronous I/O requests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/threadpool.html" class="md-nav__link">
        Thread Pool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/xtradb_performance_improvements_for_io-bound_highly-concurrent_workloads.html" class="md-nav__link">
        XtraDB Performance Improvements for I/O-Bound Highly-Concurrent Workloads
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/prefix_index_queries_optimization.html" class="md-nav__link">
        Prefix Index Queries Optimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/query_limit_records.html" class="md-nav__link">
        Limiting the Estimation of Records in a Query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/jemalloc-profiling.html" class="md-nav__link">
        Jemalloc Memory Allocation Profiling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/procfs-plugin.html" class="md-nav__link">
        The ProcFS plugin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Flexibility Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Flexibility Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Flexibility Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/binlogging_replication_improvements.html" class="md-nav__link">
        Binlogging and replication improvements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/compressed_columns.html" class="md-nav__link">
        Compressed columns with dictionaries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/extended_select_into_outfile.html" class="md-nav__link">
        Extended SELECT INTO OUTFILE/DUMPFILE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/extended_set_var.html" class="md-nav__link">
        Extended SET VAR Optimizer Hint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/improved_memory_engine.html" class="md-nav__link">
        Improved MEMORY Storage Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/log_warnings_suppress.html" class="md-nav__link">
        Suppress Warning Messages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/binlog_space.html" class="md-nav__link">
        Limiting the disk space used by binary log files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/proxy_protocol_support.html" class="md-nav__link">
        Support for PROXY protocol
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/sequence_table.html" class="md-nav__link">
        SEQUENCE_TABLE(n) Function
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/slowlog_rotation.html" class="md-nav__link">
        Slow Query Log Rotation and Expiration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Reliability Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reliability Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Reliability Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reliability/log_connection_error.html" class="md-nav__link">
        Too Many Connections Warning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reliability/innodb_corrupt_table_action.html" class="md-nav__link">
        Handle Corrupted Tables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Management Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Management Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Management Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/udf_percona_toolkit.html" class="md-nav__link">
        Percona Toolkit UDFs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/kill_idle_trx.html" class="md-nav__link">
        Kill Idle Transactions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/changed_page_tracking.html" class="md-nav__link">
        XtraDB changed page tracking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/enforce_engine.html" class="md-nav__link">
        Enforcing Storage Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/pam_plugin.html" class="md-nav__link">
        PAM Authentication Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/innodb_expanded_fast_index_creation.html" class="md-nav__link">
        Expanded Fast Index Creation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/backup_locks.html" class="md-nav__link">
        Backup Locks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/audit_log_plugin.html" class="md-nav__link">
        Audit Log Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/start_transaction_with_consistent_snapshot.html" class="md-nav__link">
        Start transaction with consistent snapshot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/extended_show_grants.html" class="md-nav__link">
        Extended SHOW GRANTS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/utility_user.html" class="md-nav__link">
        Utility user
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Security" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="pam_plugin.html" class="md-nav__link">
        PAM Authentication Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="simple-ldap.html" class="md-nav__link">
        Using Simple LDAP Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="simple-ldap-variables.html" class="md-nav__link">
        Simple LDAP Variables
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Working with SELinux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="selinux.html" class="md-nav__link md-nav__link--active">
        Working with SELinux
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#selinux-context-example" class="md-nav__link">
    SELinux context example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-selinux-types-or-domains-associated-with-files" class="md-nav__link">
    List SELinux Types or Domains associated with files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selinux-modes" class="md-nav__link">
    SELinux modes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#policy-types" class="md-nav__link">
    Policy Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-the-selinux-mode" class="md-nav__link">
    Check the SELinux mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable-selinux" class="md-nav__link">
    Disable SELinux
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-selinux-tools" class="md-nav__link">
    Additional SELinux tools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switch-the-mode-in-the-configuration-file" class="md-nav__link">
    Switch the mode in the configuration file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switch-the-mode-until-the-next-reboot" class="md-nav__link">
    Switch the mode until the next reboot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switch-the-mode-for-a-service" class="md-nav__link">
    Switch the mode for a service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relabel-the-entire-file-system" class="md-nav__link">
    Relabel the entire file system
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-a-custom-data-directory" class="md-nav__link">
    Set a Custom Data directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-a-custom-log-location" class="md-nav__link">
    Set a Custom Log Location
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-secure_file_priv-directory" class="md-nav__link">
    Set secure_file_priv directory
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="apparmor.html" class="md-nav__link">
        Working with AppArmor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="data-at-rest-encryption.html" class="md-nav__link">
        Data at Rest Encryption
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="vault.html" class="md-nav__link">
        Information about HashiCorp Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="using-keyring-plugin.html" class="md-nav__link">
        Using the Keyring Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="using-kmip.html" class="md-nav__link">
        Using the Key Management Interoperability Protocol (KMIP)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encryption-functions.html" class="md-nav__link">
        Encryption functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="using-amz-kms.html" class="md-nav__link">
        Using the Amazon Key Management Service (AWS KMS)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="rotating-master-key.html" class="md-nav__link">
        Rotating the Master Key
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-tables.html" class="md-nav__link">
        Encrypting File-Per-Table Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-tablespaces.html" class="md-nav__link">
        Encrypting a Schema or a General Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-system-tablespace.html" class="md-nav__link">
        Encrypting the System Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-temporary-files.html" class="md-nav__link">
        Encrypting Temporary Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-binlogs.html" class="md-nav__link">
        Encrypting Binary Log Files and Relay Log Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-redo-log.html" class="md-nav__link">
        Encrypting the Redo Log files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-undo-tablespace.html" class="md-nav__link">
        Encrypting the Undo Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-threads.html" class="md-nav__link">
        Working with Advanced Encryption Key Rotation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-doublewrite-buffers.html" class="md-nav__link">
        Encrypting Doublewrite Buffers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="verifying-encryption.html" class="md-nav__link">
        Verifying the Encryption for Tables, Tablespaces, and Schemas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ssl-improvement.html" class="md-nav__link">
        SSL Improvements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="data-masking.html" class="md-nav__link">
        Data Masking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="system-variables.html" class="md-nav__link">
        Server variables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13">
          Diagnostics Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Diagnostics Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Diagnostics Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/user_stats.html" class="md-nav__link">
        User Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/slow_extended.html" class="md-nav__link">
        Slow Query Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/innodb_show_status.html" class="md-nav__link">
        Extended Show Engine InnoDB Status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/show_engines.html" class="md-nav__link">
        Show Storage Engines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/process_list.html" class="md-nav__link">
        Process List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/misc_info_schema_tables.html" class="md-nav__link">
        Misc. INFORMATION_SCHEMA Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/thread_based_profiling.html" class="md-nav__link">
        Thread Based Profiling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/innodb_fragmentation_count.html" class="md-nav__link">
        InnoDB Page Fragmentation Counters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/stacktrace.html" class="md-nav__link">
        Stacktrace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/libcoredumper.html" class="md-nav__link">
        Libcoredumper
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Percona MyRocks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Percona MyRocks" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Percona MyRocks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/index.html" class="md-nav__link">
        Percona MyRocks Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/install.html" class="md-nav__link">
        Percona MyRocks Installation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/added-features.html" class="md-nav__link">
        Updated Supported Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/limitations.html" class="md-nav__link">
        MyRocks Limitations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/differences.html" class="md-nav__link">
        Differences between Percona MyRocks and Facebook MyRocks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/information-schema-tables.html" class="md-nav__link">
        MyRocks Information Schema Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/variables.html" class="md-nav__link">
        MyRocks Server Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/status_variables.html" class="md-nav__link">
        MyRocks Status Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/gap_locks_detection.html" class="md-nav__link">
        Gap locks detection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/data_loading.html" class="md-nav__link">
        Data Loading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/zenfs.html" class="md-nav__link">
        Installing and configuring Percona Server for MySQL with ZenFS support
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15">
          TokuDB
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="TokuDB" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          TokuDB
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_intro.html" class="md-nav__link">
        TokuDB Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_installation.html" class="md-nav__link">
        TokuDB Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/using_tokudb.html" class="md-nav__link">
        Using TokuDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/fast_updates.html" class="md-nav__link">
        Fast Updates with TokuDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_files_and_file_types.html" class="md-nav__link">
        TokuDB files and file types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_file_management.html" class="md-nav__link">
        TokuDB file management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_background_analyze_table.html" class="md-nav__link">
        TokuDB Background ANALYZE TABLE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_variables.html" class="md-nav__link">
        TokuDB Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_status_variables.html" class="md-nav__link">
        TokuDB Status Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_fractal_tree_indexing.html" class="md-nav__link">
        TokuDB Fractal Tree Indexing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_troubleshooting.html" class="md-nav__link">
        TokuDB Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_performance_schema.html" class="md-nav__link">
        TokuDB Performance Schema Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_faq.html" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/removing_tokudb.html" class="md-nav__link">
        Migrating and Removing the TokuDB storage engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/toku_backup.html" class="md-nav__link">
        Percona TokuBackup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16" type="checkbox" id="__nav_16" >
      
      
      
      
        <label class="md-nav__link" for="__nav_16">
          Release notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          Release notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/release-notes_index.html" class="md-nav__link">
        Percona Server for MySQL 8.0 Release notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0.29-21.html" class="md-nav__link">
        Percona Server for MySQL 8.0.29-21 (2022-08-08)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.28-20.html" class="md-nav__link">
        Percona Server for MySQL 8.0.28-20 (2022-06-20)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.28-19.html" class="md-nav__link">
        Percona Server for MySQL 8.0.28-19 (2022-05-12)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.27-18.html" class="md-nav__link">
        Percona Server for MySQL 8.0.27-18 (2022-03-02)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.26-17.html" class="md-nav__link">
        Percona Server for MySQL 8.0.26-17 (2022-01-26)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.26-16.html" class="md-nav__link">
        Percona Server for MySQL 8.0.26-16 (2021-10-20)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.25-15.html" class="md-nav__link">
        Percona Server for MySQL 8.0.25-15 (2021-07-13)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.23-14.html" class="md-nav__link">
        Percona Server for MySQL 8.0.23-14 (2021-05-12)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.22-13.html" class="md-nav__link">
        Percona Server for MySQL 8.0.22-13 (2020-12-14)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.21-12.html" class="md-nav__link">
        Percona Server for MySQL 8.0.21-12 (2020-10-13)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.20-11.html" class="md-nav__link">
        Percona Server for MySQL 8.0.20-11 (2020-07-21)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.19-10.html" class="md-nav__link">
        Percona Server for MySQL 8.0.19-10 (2020-03-23)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.18-9.html" class="md-nav__link">
        Percona Server for MySQL 8.0.18-9
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.17-8.html" class="md-nav__link">
        Percona Server for MySQL 8.0.17-8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.16-7.html" class="md-nav__link">
        Percona Server for MySQL 8.0.16-7
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.15-6.html" class="md-nav__link">
        Percona Server for MySQL 8.0.15-6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.15-5.html" class="md-nav__link">
        Percona Server for MySQL 8.0.15-5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.14.html" class="md-nav__link">
        Percona Server for MySQL 8.0.14
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.13-4.html" class="md-nav__link">
        Percona Server for MySQL 8.0.13-4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.13-3.html" class="md-nav__link">
        Percona Server for MySQL 8.0.13-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.12-2rc1.html" class="md-nav__link">
        Percona Server for MySQL 8.0.12-2rc1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17" type="checkbox" id="__nav_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_17">
          References
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="References" data-md-level="1">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upstream-bug-fixes.html" class="md-nav__link">
        List of upstream MySQL bugs fixed in Percona Server for MySQL 8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ps-variables.html" class="md-nav__link">
        List of variables introduced in Percona Server for MySQL 8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../development.html" class="md-nav__link">
        Development of Percona Server for MySQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trademark-policy.html" class="md-nav__link">
        Trademark Policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../index_info_schema_tables.html" class="md-nav__link">
        Index of INFORMATION_SCHEMA Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq.html" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../copyright.html" class="md-nav__link">
        Copyright and Licensing Information
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../glossary.html" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
   <label class="md-nav__title" for="__drawer">
    <a href="https://learn.percona.com/download-percona-server-8-0-manual" onclick="_gaq.push(['b._trackEvent', 'Percona Server', 'Download', 'Download Manual Percona Server']);" class="md-nav__link md-nav__link--active">
      Download PDF
    </a>
  </label> 
  </ul>
</nav>

                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#selinux-context-example" class="md-nav__link">
    SELinux context example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-selinux-types-or-domains-associated-with-files" class="md-nav__link">
    List SELinux Types or Domains associated with files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selinux-modes" class="md-nav__link">
    SELinux modes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#policy-types" class="md-nav__link">
    Policy Types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-the-selinux-mode" class="md-nav__link">
    Check the SELinux mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable-selinux" class="md-nav__link">
    Disable SELinux
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-selinux-tools" class="md-nav__link">
    Additional SELinux tools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switch-the-mode-in-the-configuration-file" class="md-nav__link">
    Switch the mode in the configuration file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switch-the-mode-until-the-next-reboot" class="md-nav__link">
    Switch the mode until the next reboot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#switch-the-mode-for-a-service" class="md-nav__link">
    Switch the mode for a service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relabel-the-entire-file-system" class="md-nav__link">
    Relabel the entire file system
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-a-custom-data-directory" class="md-nav__link">
    Set a Custom Data directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-a-custom-log-location" class="md-nav__link">
    Set a Custom Log Location
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-secure_file_priv-directory" class="md-nav__link">
    Set secure_file_priv directory
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                <!-- Edit button -->
                
                  <a
                    href="https://github.com/percona/psmysql-docs/edit/8.0/docs/security/selinux.md"
                    title="Edit this page"
                    class="md-content__button md-icon"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
                  </a>
                

                <!--
                  Hack: check whether the content contains a h1 headline. If it
                  doesn't, the page title (or respectively site name) is used
                  as the main headline.
                -->
                

                <!-- Markdown content -->
                <h1 id="working-with-selinux">Working with SELinux<a class="headerlink" href="#working-with-selinux" title="Permanent link">&para;</a></h1>
<p>The Linux kernel, through the Linux Security Module (LSM), supports Security-Enhanced Linux (SELinux). This module provides a way to support mandatory access control policies. SELinux defines how confined processes interact with files, network ports, directories, other processes, and additional server components.</p>
<p>An SELinux policy defines the set of rules, the <code>types</code> for files, and the <code>domains</code> for processes. Rules determine how a process interacts with another type. SELinux decides whether to allow or deny an action based on the subject’s context, what object initiates the action and what object is the action’s target.</p>
<p>A label represents the context for administrators and users.</p>
<p>CentOS 7 and CentOS 8 contain a MySQL SELinux policy. <em>Percona Server for MySQL</em> is a drop-in replacement for MySQL and can use this policy without changes.</p>
<h2 id="selinux-context-example">SELinux context example<a class="headerlink" href="#selinux-context-example" title="Permanent link">&para;</a></h2>
<p>To view the SELinux context, add the <code>-Z</code> switch to many of the utilities. Here is an example of the context for <code>mysqld</code>:</p>
<div class="highlight"><pre><span></span><code>$ ps -eZ <span class="p">|</span> grep mysqld_t
</code></pre></div>
<p>The output should resemble the following:</p>
<div class="highlight"><pre><span></span><code>system_u:system_r:mysqld_t:s0    3356 ?        00:00:01 mysqld
</code></pre></div>
<p>The context has the following properties:</p>
<ul>
<li>
<p>User - system_u</p>
</li>
<li>
<p>Role - system_r</p>
</li>
<li>
<p>Type or domain - mysqld_t</p>
</li>
<li>
<p>Sensitivity level - s0    3356</p>
</li>
</ul>
<p>Most SELinux policy rules are based on the type or domain.</p>
<h2 id="list-selinux-types-or-domains-associated-with-files">List SELinux Types or Domains associated with files<a class="headerlink" href="#list-selinux-types-or-domains-associated-with-files" title="Permanent link">&para;</a></h2>
<p>The security property that SELinux relies on is the Type security property. The type name often end with a <code>_t</code>. A group of objects with the same type security value belongs to the same domain.</p>
<p>To view the <code>mysqldb_t</code> types associated with the MySQL directories and files, run the following command:</p>
<div class="highlight"><pre><span></span><code>$ ls -laZ /var/lib/ <span class="p">|</span> grep mysql
</code></pre></div>
<p>The output should resemble the following:</p>
<div class="highlight"><pre><span></span><code>drwxr-x--x. mysql   mysql   system_u:object_r:mysqld_db_t:s0 mysql
drwxr-x---. mysql   mysql   system_u:object_r:mysqld_db_t:s0 mysql-files
drwxr-x---. mysql   mysql   system_u:object_r:mysqld_db_t:s0 mysql-keyring
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a policy type does not define the type property for an object, the default value is <code>unconfined_t</code>.</p>
</div>
<h2 id="selinux-modes">SELinux modes<a class="headerlink" href="#selinux-modes" title="Permanent link">&para;</a></h2>
<p>SELinux has the following modes:</p>
<ul>
<li>
<p>Disabled - No SELinux policy modules loaded, which disables policies. Nothing is reported.</p>
</li>
<li>
<p>Permissive - SELinux is active, but policy modules are not enforced. A policy violation is reported but does not stop the action.</p>
</li>
<li>
<p>Enforcing - SELinux is active, and violations are reported and denied. If there is no rule to allow access to a confined resource, SELinux denies the access.</p>
</li>
</ul>
<h2 id="policy-types">Policy Types<a class="headerlink" href="#policy-types" title="Permanent link">&para;</a></h2>
<p>SELinux has several policy types:</p>
<ul>
<li>
<p>Targeted - Most processes operate without restriction. Specific services are contained in security domains and defined by policies.</p>
</li>
<li>
<p>Strict - All processes are contained in security domains and defined by policies.</p>
</li>
</ul>
<p>SELinux has confined processes that run in a domain and restricts everything unless explicitly allowed. An unconfined process in an unconfined domain is allowed almost all access.</p>
<p>MySQL is a confined process, and the policy module defines which files are read, which ports are opened, and so on. SELinux assumes the <em>Percona Server for MySQL</em> installation uses the default file locations and default ports.</p>
<p>If you change the default, you must also edit the policy. If you do not update the policy, SELinux, in enforcing mode, denies access to all non-default resources.</p>
<h2 id="check-the-selinux-mode">Check the SELinux mode<a class="headerlink" href="#check-the-selinux-mode" title="Permanent link">&para;</a></h2>
<p>To check the current SELinux mode, use either of the following commands:</p>
<div class="highlight"><pre><span></span><code>$ sestatus
</code></pre></div>
<p>The output should resemble the following:</p>
<div class="highlight"><pre><span></span><code>SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Memory protection checking:     actual (secure)
Max kernel policy version:      31
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code>$ grep ^SELINUX<span class="o">=</span> /etc/selinux/config
</code></pre></div>
<p>The output should resemble the following:</p>
<div class="highlight"><pre><span></span><code>SELINUX=enforcing
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Add the <code>-b</code> parameter to <code>sestatus</code> to display the <code>Policy booleans</code>. The boolean values for each parameter is shown. An example of using the <code>b</code> parameter is the following:</p>
</div>
<div class="highlight"><pre><span></span><code>$ sestatus -b <span class="p">|</span> grep mysql
</code></pre></div>
<p>The output should resemble the following:</p>
<div class="highlight"><pre><span></span><code>mysql_connect_any                           off
selinuxuser_mysql_connect_enabled
</code></pre></div>
<p>The <code>/etc/selinux/config</code> file controls if SELinux is disabled or enabled, and if enabled, whether SELinux operates in enforcing mode or permissive mode.</p>
<h2 id="disable-selinux">Disable SELinux<a class="headerlink" href="#disable-selinux" title="Permanent link">&para;</a></h2>
<p>If you plan to use the enforcing mode at another time, use the permissive mode instead of disabling SELinux. During the time that SELinux is disabled, the system may contain mislabeled objects or objects with no label. If you re-enable SELinux and plan to set SELinux to enforcing, you must follow the steps to Relabel the entire file system.</p>
<p>On boot, to disable SELinux, set the <code>selinux=0</code> kernel option. The kernel does not load the SELinux infrastructure. This option has the same effect as changing the <code>SELINUX=disabled</code> instruction in the configuration file and then rebooting the system.</p>
<h2 id="additional-selinux-tools">Additional SELinux tools<a class="headerlink" href="#additional-selinux-tools" title="Permanent link">&para;</a></h2>
<p>Install the SELinux management tools, such as <code>semanage</code> or <code>sesearch</code>, if needed.</p>
<p>On RHEL 7 or compatible operating systems, use the following command as root:</p>
<div class="highlight"><pre><span></span><code>$ yum -y install policycoreutils-python
</code></pre></div>
<p>On RHEL 8 or compatible operating systems, use the following command as root:</p>
<div class="highlight"><pre><span></span><code>$ yum -y install policycoreutils-python-utils
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may need root privileges to run SELinux management commands.</p>
</div>
<h2 id="switch-the-mode-in-the-configuration-file">Switch the mode in the configuration file<a class="headerlink" href="#switch-the-mode-in-the-configuration-file" title="Permanent link">&para;</a></h2>
<p>Switching between modes may help when troubleshooting or when modifying rules.</p>
<p>To permanently change the mode, edit the <code>/etc/selinux/config</code> file and change the <code>SELINUX=</code> value. You should also verify the change.</p>
<div class="highlight"><pre><span></span><code>$ cat /etc/selinux/config <span class="p">|</span> grep <span class="nv">SELINUX</span><span class="o">=</span> <span class="p">|</span> grep -v ^#
</code></pre></div>
<p>The output should resemble the following:</p>
<div class="highlight"><pre><span></span><code>SELINUX=enforcing
SELINUX=enforcing
</code></pre></div>
<div class="highlight"><pre><span></span><code>$ sudo sed -i <span class="s1">&#39;s/^SELINUX=.*/SELINUX=permissive/g&#39;</span> /etc/selinux/config

$ cat /etc/selinux/config <span class="p">|</span> grep <span class="nv">SELINUX</span><span class="o">=</span> <span class="p">|</span> grep -v ^#
</code></pre></div>
<p>The output should resemble the following:</p>
<div class="highlight"><pre><span></span><code>SELINUX=permissive
SELINUX=permissive
</code></pre></div>
<p>Reboot your system after the change.</p>
<p>If switching from either disabled mode or permissive mode to enforcing, see Relabel the entire file system.</p>
<h2 id="switch-the-mode-until-the-next-reboot">Switch the mode until the next reboot<a class="headerlink" href="#switch-the-mode-until-the-next-reboot" title="Permanent link">&para;</a></h2>
<p>To change the mode until the next reboot, use either of the following commands as root:</p>
<div class="highlight"><pre><span></span><code>$ setenforce Enforcing
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code>$ setenforce <span class="m">1</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following <code>setenforce</code> parameters are available:</p>
</div>
<p>| setenforce parameters</p>
<table>
<thead>
<tr>
<th>setenforce parameters</th>
<th>Also Permitted</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Permissive</td>
</tr>
<tr>
<td>1</td>
<td>Enforcing</td>
</tr>
</tbody>
</table>
<p>You can view the current mode by running either of the following commands:</p>
<div class="highlight"><pre><span></span><code>$ getenforce
</code></pre></div>
<p>The output should resemble the following:</p>
<div class="highlight"><pre><span></span><code>Enforcing
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code>$ sestatus <span class="p">|</span> grep -i mode
</code></pre></div>
<p>The output should resemble the following:</p>
<div class="highlight"><pre><span></span><code>Current mode:                   permissive
Mode from config file:          enforcing
</code></pre></div>
<h2 id="switch-the-mode-for-a-service">Switch the mode for a service<a class="headerlink" href="#switch-the-mode-for-a-service" title="Permanent link">&para;</a></h2>
<p>You can move one or more services into a permissive domain. The other services remain in enforcing mode.</p>
<p>To add a service to the permissive domain, run the following as root:</p>
<div class="highlight"><pre><span></span><code>$ sudo semanage permissive -a mysqld_t
</code></pre></div>
<p>To list the current permissive domains, run the following command:</p>
<div class="highlight"><pre><span></span><code>$ sudo semanage permissive -l
  <span class="sb">```</span>

The output should resemble the following:

<span class="sb">```</span>text
...
Customized Permissive Types

mysqld_t

Builtin Permissive Types
</code></pre></div>
<p>To delete a service from the permissive domain, run the following:</p>
<div class="highlight"><pre><span></span><code>$ sudo semanage permissive -d mysqld_t
</code></pre></div>
<p>The service returns to the system’s SELinux mode. Be sure to follow the steps to Relabel the entire file system.</p>
<h2 id="relabel-the-entire-file-system">Relabel the entire file system<a class="headerlink" href="#relabel-the-entire-file-system" title="Permanent link">&para;</a></h2>
<p>Switching from disabled or permissive to enforcing requires additional steps. The enforcing mode requires the correct contexts, or labels, to function. The permissive mode allows users and processes to label files and system objects incorrectly. The disabled mode does not load the SELinux infrastructure and does not label resources or processes.</p>
<p>RHEL and compatible systems, use the <code>fixfiles</code> application for relabeling. You can relabel the entire file system or the file contexts of an application.</p>
<p>For one application, run the following command:</p>
<div class="highlight"><pre><span></span><code>$ fixfiles -R mysqld restore
</code></pre></div>
<p>To relabel the file system without rebooting the system, use the following command:</p>
<div class="highlight"><pre><span></span><code>$ fixfiles -f -F relabel
</code></pre></div>
<p>Another option relabels the file system during a reboot. You can either add a touch file, read during the reboot operation, or configure a kernel boot parameter. The completion of the relabeling operation automatically removes the touch file.</p>
<p>Add the touch file as root:</p>
<div class="highlight"><pre><span></span><code>$ touch /.autorelabel
</code></pre></div>
<p>To configure the kernel, add the <code>autorelabel=1</code> kernel parameter to the boot parameter list. The parameter forces a system relabel. Reboot in permissive mode to allow the process to complete before changing to enforcing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Relabeling an entire filesystem takes time. When the relabeling is complete, the system reboots again.</p>
</div>
<h2 id="set-a-custom-data-directory">Set a Custom Data directory<a class="headerlink" href="#set-a-custom-data-directory" title="Permanent link">&para;</a></h2>
<p>If you do not use the default settings, SELinux, in enforcing mode, prevents access to the system.</p>
<p>For example, during installation, you have used the following configuration:</p>
<div class="highlight"><pre><span></span><code>datadir=/var/lib/mysqlcustom
socket=/var/lib/mysqlcustom/mysql.sock
</code></pre></div>
<p>Restart the service.</p>
<div class="highlight"><pre><span></span><code>$ service mysqld restart
</code></pre></div>
<p>The output could be the following:</p>
<div class="highlight"><pre><span></span><code>Redirecting to /bin/systemctl restart mysqld.service
Job for mysqld.service failed because the control process exited with error code.
See &quot;systemctl status mysqld.service&quot; and &quot;journalctl -xe&quot; for details.
</code></pre></div>
<p>Check the journal log to see the error code.</p>
<p><div class="highlight"><pre><span></span><code>$ journalctl -xe
</code></pre></div>
The output could be the following:</p>
<div class="highlight"><pre><span></span><code>...
SELinux is preventing mysqld from getattr access to the file /var/lib/mysqlcustom/ibdata1.
...
</code></pre></div>
<p>Check the SELinux types in <code>/var/lib/mysqlcustom</code>.</p>
<div class="highlight"><pre><span></span><code>ls -1aZ /var/lib/mysqlcustom
</code></pre></div>
<p>The output could be the following:</p>
<p><code>text
  total 164288
  drwxr-x--x.  6 mysql mysql system_u:object_r:var_lib_t:s0       4096 Dec  2 07:58  .
  drwxr-xr-x. 38 root  root  system_u:object_r:var_lib_t:s0       4096 Dec  1 14:29  ..
  ...
  -rw-r-----.  1 mysql mysql system_u:object_r:var_lib_t:s0   12582912 Dec  1 14:29  ibdata1
  ...</code></p>
<p>To solve the issue, use the following methods:</p>
<ul>
<li>
<p>Set the proper labels for <code>mysqlcustom</code> files</p>
</li>
<li>
<p>Change the mysqld SELinux policy to allow mysqld access to <code>var_lib_t</code> files.</p>
</li>
</ul>
<p>The recommended solution is to set the proper labels. The following procedure assumes you have already created and set ownership to the custom data directory location:</p>
<ol>
<li>
<p>To change the SELinux context, use <code>semanage fcontext</code>. In this step, you define how SELinux deals with the custom paths:</p>
<div class="highlight"><pre><span></span><code>$ semanage fcontext -a -e /var/lib/mysql /var/lib/mysqlcustom
</code></pre></div>
<p>SELinux applies the same labeling schema, defined in the mysqld policy, for the <code>/var/lib/mysql</code> directory to the custom directory. Files created within the custom directory are labeled as if they were in <code>/var/lib/mysql</code>.</p>
</li>
<li>
<p>To <code>restorecon</code> command applies the change.</p>
<div class="highlight"><pre><span></span><code>$ restorecon -R -v /var/lib/mysqlcustom
</code></pre></div>
</li>
<li>
<p>Restart the mysqld service:</p>
<div class="highlight"><pre><span></span><code>$ service mysqld start
</code></pre></div>
</li>
</ol>
<h2 id="set-a-custom-log-location">Set a Custom Log Location<a class="headerlink" href="#set-a-custom-log-location" title="Permanent link">&para;</a></h2>
<p>If you do not use the default settings, SELinux, in enforcing mode, prevents access to the location. Change the log location to a custom location in my.cnf:</p>
<div class="highlight"><pre><span></span><code>log-error=/logs/mysqld.log
</code></pre></div>
<p>Verify the log location with the following command:</p>
<div class="highlight"><pre><span></span><code>$ ls -laZ /
</code></pre></div>
<p>The output could be:</p>
<div class="highlight"><pre><span></span><code>...
drwxrwxrwx.   2 root root unconfined_u:object_r:default_t:s0    6 Dec  2 09:16 logs
...
</code></pre></div>
<p>Starting MySQL returns the following message:</p>
<div class="highlight"><pre><span></span><code>$ service mysql start
</code></pre></div>
<p>The output could be:</p>
<div class="highlight"><pre><span></span><code>Redirecting to /bin/systemctl start mysql.service
Job for mysqld.service failed because the control process exited with error code.
See &quot;systemctl status mysqld.service&quot; and &quot;journalctl -xe&quot; for details.

$ journalctl -xe
...
SELinux is preventing mysqld from write access to the directory logs.
...
</code></pre></div>
<p>The default SELinux policy allows mysqld to write logs into a location tagged with <code>var_log_t</code>, which is the <code>/var/log</code> location. You can solve the issue with either of the following methods:</p>
<ul>
<li>
<p>Tag the <code>/logs</code> location properly</p>
</li>
<li>
<p>Edit the SELinux policy to allow mysqld access to all directories.</p>
</li>
</ul>
<p>To tag the custom <code>/logs</code> location is the recommended method since it locks down access. Run the following commands to tag the custom location:</p>
<div class="highlight"><pre><span></span><code>$ semanage fcontext -a -t var_log_t /logs
$ restorecon -v /logs
</code></pre></div>
<p>You may not be able to change the <code>/logs</code> directory label. For example, other applications, with their own rules, use the same directory.</p>
<p>To adjust the SELinux policy when a directory is shared, follow these steps:</p>
<ol>
<li>
<p>Create a local policy:</p>
<div class="highlight"><pre><span></span><code>ausearch -c &#39;mysqld&#39; --raw | audit2allow -M my-mysqld
</code></pre></div>
</li>
<li>
<p>This command generates the my-mysqld.te and the my-mysqld.pp files. The mysqld.te is the type enforcement policy file. The my-mysqld.pp is the policy module loaded as a binary file into the SELinux subsystem.</p>
<p>An example of the my-myslqd.te file:</p>
<div class="highlight"><pre><span></span><code>module my-mysqld 1.0;

require {
    *type mysqld_t*;
    type var_lib_t;
    *type default_t*;
    class file getattr;
    *class dir write*;
}

#============= mysqld_t ==============
*allow mysqld_t default_t:dir write*;
allow mysqld_t var_lib_t:file getattr;
</code></pre></div>
<p>The policy contains rules for the custom data directory and the custom logs directory. We have set the proper labels for the data directory location, and applying this auto-generated policy would loosen our hardening by allowing mysqld to access <code>var_lib_t</code> tags.</p>
</li>
<li>
<p>SELinux-generated events are converted to rules. A generated policy may contain rules for recent violations and include unrelated rules. Unrelated rules are generated from actions, such as changing the data directory location, that are not related to the logs directory. Add the <code>--start</code> parameter to use log events after a specific time to filter out the unwanted events. This parameter captures events when the time stamp is equal to the specified time or later. SELinux generates a policy for the current actions.</p>
<div class="highlight"><pre><span></span><code>$ ausearch --start 10:00:00 -c &#39;mysqld&#39; --raw | audit2allow -M my-mysqld
</code></pre></div>
</li>
<li>
<p>This policy allows mysqld writing into the tagged directories. Open the my_mysqld file:</p>
<div class="highlight"><pre><span></span><code>module my-mysqld 1.0;

require {
    type mysqld_t;
    type default_t;
    class dir write;
}

#============= mysqld_t ==============
allow mysqld_t default_t:dir write;
</code></pre></div>
</li>
<li>
<p>Install the SELinux policy module:</p>
<div class="highlight"><pre><span></span><code>$ semodule -i my-mysqld.pp
</code></pre></div>
</li>
</ol>
<p>Restart the service. If you have a failure, check the journal log and follow the same procedure.</p>
<p>If SELinux prevents mysql from creating a log file inside the directory. You can view all the violations by changing the SELinux mode to <code>permissive</code> and then running mysqld. All violations are logged in the journal log. After this run, you can generate a local policy module, install it, and switch SELinux back to <code>enforcing</code> mode. Follow this procedure:</p>
<ol>
<li>
<p>Unload the current local my-mysqld policy module:</p>
<div class="highlight"><pre><span></span><code>$ semodule -r my-mysqld
</code></pre></div>
</li>
<li>
<p>You can put a single domain into permissive mode. Other domains on the system to remain in enforcing mode. Use <code>semanage permissive</code> with the <code>-a</code> parameter to change mysqld_t to permissive mode:</p>
<div class="highlight"><pre><span></span><code>$ semanage permissive -a mysqld_t
</code></pre></div>
</li>
<li>
<p>Verify the mode change:</p>
<div class="highlight"><pre><span></span><code>$ semdule -l <span class="p">|</span> grep permissive
</code></pre></div>
<p>The output could be:</p>
<div class="highlight"><pre><span></span><code>...
permissive_mysqld_t
...
</code></pre></div>
</li>
<li>
<p>To make searching the log easier, return the time:</p>
<div class="highlight"><pre><span></span><code>$ date
</code></pre></div>
</li>
<li>
<p>Start the service.</p>
<div class="highlight"><pre><span></span><code>$ service mysqld start
</code></pre></div>
</li>
<li>
<p>MySQL starts, and SELinux logs the violations in the journal log. Check the journal log:</p>
<div class="highlight"><pre><span></span><code>$ journalctl -xe
</code></pre></div>
</li>
<li>
<p>Stop the service:</p>
<div class="highlight"><pre><span></span><code>$ service mysqld stop
</code></pre></div>
</li>
<li>
<p>Generate a local mysqld policy, using the time returned from step 4:</p>
<div class="highlight"><pre><span></span><code>$ ausearch --start &lt;date-c <span class="s1">&#39;mysqld&#39;</span> --raw <span class="p">|</span> audit2allow -M my-mysqld
</code></pre></div>
</li>
<li>
<p>Review the policy (the policy you generate may be different):</p>
<div class="highlight"><pre><span></span><code>$ cat my-mysqld.te
</code></pre></div>
<p>The output could be:</p>
<div class="highlight"><pre><span></span><code>module my-mysqld 1.0;

require {
type default_t;
    type mysqld_t;
    class dir { add_name write };
    class file { append create open };
}

#============= mysqld_t ==============
allow mysqld_t default_t:dir { add_name write };
allow mysqld_t default_t:file { append create open };
</code></pre></div>
</li>
<li>
<p>Install the policy:</p>
<div class="highlight"><pre><span></span><code>$ semodule -i my-mysqld.pp
</code></pre></div>
</li>
<li>
<p>Use <code>semanage permissive</code> with the <code>-d</code> parameter, which deletes the permissive domain for the service:</p>
<div class="highlight"><pre><span></span><code>$ semanage permissive -d mysqld_t
</code></pre></div>
</li>
<li>
<p>Restart the service:</p>
<div class="highlight"><pre><span></span><code>$ service mysqld start
</code></pre></div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use this procedure to adjust the local mysqld policy module. You should review the changes which are generated to ensure the rules are not too tolerant.</p>
</div>
<h2 id="set-secure_file_priv-directory">Set <code>secure_file_priv</code> directory<a class="headerlink" href="#set-secure_file_priv-directory" title="Permanent link">&para;</a></h2>
<p>Update the SELinux tags for the <code>/var/lib/mysql-files/</code> directory, used for <code>SELECT ... INTO OUTFILE</code> or similar operations, if required. The server needs only read/write access to the destination directory.</p>
<p>To set <code>secure_file_priv</code> to use this directory, run the following commands to set the context:</p>
<div class="highlight"><pre><span></span><code>$ semanage fcontext -a -t mysqld_db_t <span class="s2">&quot;/var/lib/mysql-files/(/.*)?&quot;</span>
$ restorecon -Rv /var/lib/mysql-files
</code></pre></div>
<p>Edit the path for a different location, if needed.</p>

                
<div class="md-relbar2__inner md-grid">
<div class="md-content">
  <article class="md-content__inner md-typeset" role="main">    
    <h4>Contact Us </h4>
       <p>For free technical help, visit the Percona <a class="reference external" href="https://forums.percona.com/c/mysql-mariadb/percona-server-for-mysql-8-0/20" target="_blank">Community Forum</a>.<br>
        <p>To report bugs or submit feature requests, open a <a class="reference external" href="https://jira.percona.com/projects/PS/issues/" target="_blank">JIRA</a> ticket.<br>
         <p>For paid <a class="reference external" href="https://www.percona.com/services/support"> support </a> and <a class="reference external" href="https://www.percona.com/services/managed-services"> managed </a> or <a class="reference external" href="https://www.percona.com/services/consulting">consulting services </a>, contact <a class="reference external" href="https://www.percona.com/about-percona/contact" target="_blank">Percona Sales</a>.</p>
 </article>
</div>
</div>

                <!-- Last update of source file -->
                
                  
                    <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2022-09-27
    
  </small>
</div>
                  
                
              
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="simple-ldap-variables.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Simple LDAP Variables" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Simple LDAP Variables
            </div>
          </div>
        </a>
      
      
        
        <a href="apparmor.html" class="md-footer__link md-footer__link--next" aria-label="Next: Working with AppArmor" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Working with AppArmor
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Percona LLC, &#169; 2022
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.highlight", "navigation.top", "content.tabs.link"], "search": "../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.078830c0.min.js"></script>
      
        <script src="../js/version-select.js"></script>
      
    
  </body>
</html>