



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation">
      
      
        <meta name="author" content="Percona LLC">
      
      
        <link rel="canonical" href="https://docs.percona.com/percona-server/8.0/8.0/security/encryption-functions.html">
      
      <link rel="icon" href="../_static/percona_favicon.ico">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.5.6">
    
    
      
        <title>Encryption functions - Percona Server for MySQL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.3/css/line.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="../css/percona.css">
    
      <link rel="stylesheet" href="../css/version-select.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-343802-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");ga("send","event","feedback","click",t,e),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){ga("send","pageview",e.pathname)})});var e=document.createElement("script");e.async=!0,e.src="https://www.google-analytics.com/analytics.js",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#encryption-functions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://percona.com/software/documentation" class="md-header__button md-logo" aria-label="Percona Server for MySQL" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis"><a href="https://www.percona.com/software/documentation">
            Percona Product Documentation
          </a></span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Encryption functions
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/percona/psmysql-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/psmysql-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Percona Server for MySQL" class="md-nav__button md-logo" aria-label="Percona Server for MySQL" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    Percona Server for MySQL
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/percona/psmysql-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/psmysql-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../percona_xtradb.html" class="md-nav__link">
        The Percona XtraDB Storage Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ps-versions-comparison.html" class="md-nav__link">
        List of features available in Percona Server for MySQL releases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_comparison.html" class="md-nav__link">
        Percona Server for MySQL Feature Comparison
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changed_in_version.html" class="md-nav__link">
        Changed in Percona Server 8.0
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation.html" class="md-nav__link">
        Installing Percona Server for MySQL 8.0.29-21
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Post-Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Post-Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Post-Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/post-installation.html" class="md-nav__link">
        Post-Installation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          In-place upgrades
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="In-place upgrades" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          In-place upgrades
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_guide.html" class="md-nav__link">
        Percona Server for MySQL In-Place Upgrading Guide: From 5.7 to 8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_using_percona_repos.html" class="md-nav__link">
        Upgrading using the Percona repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_tokudb_myrocks.html" class="md-nav__link">
        Upgrading from Systems that Use the MyRocks or TokuDB Storage Engine and Partitioned Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_using_standalone_packages.html" class="md-nav__link">
        Upgrading using Standalone Packages
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Run in Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Run in Docker" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Run in Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/docker.html" class="md-nav__link">
        Running Percona Server for MySQL in a Docker Container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/docker-config.html" class="md-nav__link">
        Docker config
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Scalability Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Scalability Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Scalability Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scalability/innodb_io.html" class="md-nav__link">
        Improved InnoDB I/O Scalability
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Performance Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Performance Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Performance Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/adaptive_network_buffers.html" class="md-nav__link">
        Adaptive Network Buffers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/aio_page_requests.html" class="md-nav__link">
        Multiple page asynchronous I/O requests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/threadpool.html" class="md-nav__link">
        Thread Pool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/xtradb_performance_improvements_for_io-bound_highly-concurrent_workloads.html" class="md-nav__link">
        XtraDB Performance Improvements for I/O-Bound Highly-Concurrent Workloads
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/prefix_index_queries_optimization.html" class="md-nav__link">
        Prefix Index Queries Optimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/query_limit_records.html" class="md-nav__link">
        Limiting the Estimation of Records in a Query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/jemalloc-profiling.html" class="md-nav__link">
        Jemalloc Memory Allocation Profiling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/procfs-plugin.html" class="md-nav__link">
        The ProcFS plugin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Flexibility Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Flexibility Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Flexibility Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/binlogging_replication_improvements.html" class="md-nav__link">
        Binlogging and replication improvements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/compressed_columns.html" class="md-nav__link">
        Compressed columns with dictionaries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/extended_select_into_outfile.html" class="md-nav__link">
        Extended SELECT INTO OUTFILE/DUMPFILE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/extended_set_var.html" class="md-nav__link">
        Extended SET VAR Optimizer Hint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/improved_memory_engine.html" class="md-nav__link">
        Improved MEMORY Storage Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/log_warnings_suppress.html" class="md-nav__link">
        Suppress Warning Messages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/binlog_space.html" class="md-nav__link">
        Limiting the disk space used by binary log files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/proxy_protocol_support.html" class="md-nav__link">
        Support for PROXY protocol
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/sequence_table.html" class="md-nav__link">
        SEQUENCE_TABLE(n) Function
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/slowlog_rotation.html" class="md-nav__link">
        Slow Query Log Rotation and Expiration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Reliability Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reliability Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Reliability Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reliability/log_connection_error.html" class="md-nav__link">
        Too Many Connections Warning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reliability/innodb_corrupt_table_action.html" class="md-nav__link">
        Handle Corrupted Tables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Management Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Management Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Management Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/udf_percona_toolkit.html" class="md-nav__link">
        Percona Toolkit UDFs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/kill_idle_trx.html" class="md-nav__link">
        Kill Idle Transactions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/changed_page_tracking.html" class="md-nav__link">
        XtraDB changed page tracking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/enforce_engine.html" class="md-nav__link">
        Enforcing Storage Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/pam_plugin.html" class="md-nav__link">
        PAM Authentication Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/innodb_expanded_fast_index_creation.html" class="md-nav__link">
        Expanded Fast Index Creation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/backup_locks.html" class="md-nav__link">
        Backup Locks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/audit_log_plugin.html" class="md-nav__link">
        Audit Log Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/start_transaction_with_consistent_snapshot.html" class="md-nav__link">
        Start transaction with consistent snapshot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/extended_show_grants.html" class="md-nav__link">
        Extended SHOW GRANTS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/utility_user.html" class="md-nav__link">
        Utility user
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Security" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="pam_plugin.html" class="md-nav__link">
        PAM Authentication Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="simple-ldap.html" class="md-nav__link">
        Using Simple LDAP Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="simple-ldap-variables.html" class="md-nav__link">
        Simple LDAP Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="selinux.html" class="md-nav__link">
        Working with SELinux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="apparmor.html" class="md-nav__link">
        Working with AppArmor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="data-at-rest-encryption.html" class="md-nav__link">
        Data at Rest Encryption
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="vault.html" class="md-nav__link">
        Information about HashiCorp Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="using-keyring-plugin.html" class="md-nav__link">
        Using the Keyring Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="using-kmip.html" class="md-nav__link">
        Using the Key Management Interoperability Protocol (KMIP)
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Encryption functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="encryption-functions.html" class="md-nav__link md-nav__link--active">
        Encryption functions
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-component_encryption_udf" class="md-nav__link">
    Install component_encryption_udf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-defined-functions-described" class="md-nav__link">
    User-Defined Functions Described
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asymmetric_decryptalgorithm-crypt_str-key_str" class="md-nav__link">
    asymmetric_decrypt(algorithm, crypt_str, key_str)
  </a>
  
    <nav class="md-nav" aria-label="asymmetric_decrypt(algorithm, crypt_str, key_str)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asymmetric_derivepub_key_str-priv_key_str" class="md-nav__link">
    asymmetric_derive(pub_key_str, priv_key_str)
  </a>
  
    <nav class="md-nav" aria-label="asymmetric_derive(pub_key_str, priv_key_str)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asymmetric_derive-output" class="md-nav__link">
    asymmetric_derive output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asymmetric_derive-parameters" class="md-nav__link">
    asymmetric_derive parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asymmetric_encryptalgorithm-str-key_str" class="md-nav__link">
    asymmetric_encrypt(algorithm, str, key_str)
  </a>
  
    <nav class="md-nav" aria-label="asymmetric_encrypt(algorithm, str, key_str)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asymmetric_encrypt-output" class="md-nav__link">
    asymmetric_encrypt output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asymmetric_encrypt-parameters" class="md-nav__link">
    asymmetric_encrypt parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asymmetric_signalgorithm-digest_str-priv_key_str-digest_type" class="md-nav__link">
    asymmetric_sign(algorithm, digest_str, priv_key_str, digest_type)
  </a>
  
    <nav class="md-nav" aria-label="asymmetric_sign(algorithm, digest_str, priv_key_str, digest_type)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asymmetric_sign-output" class="md-nav__link">
    asymmetric_sign output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asymmetric_sign-parameters" class="md-nav__link">
    asymmetric_sign parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asymmetric_verifyalgorithm-digest_str-sig_str-pub_key_str-digest_type" class="md-nav__link">
    asymmetric_verify(algorithm, digest_str, sig_str, pub_key_str, digest_type)
  </a>
  
    <nav class="md-nav" aria-label="asymmetric_verify(algorithm, digest_str, sig_str, pub_key_str, digest_type)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asymmetric_verify-output" class="md-nav__link">
    asymmetric_verify output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asymmetric_verify-parameters" class="md-nav__link">
    asymmetric_verify parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_asymmetric_priv_keyalgorithm-key_len-dh_parameters" class="md-nav__link">
    create_asymmetric_priv_key(algorithm, (key_len | dh_parameters))
  </a>
  
    <nav class="md-nav" aria-label="create_asymmetric_priv_key(algorithm, (key_len | dh_parameters))">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_asymmetric_priv_key-output" class="md-nav__link">
    create_asymmetric_priv_key output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_asymmetric_priv_key-parameters" class="md-nav__link">
    create_asymmetric_priv_key parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_asymmetric_pub_keyalgorithm-priv_key_str" class="md-nav__link">
    create_asymmetric_pub_key(algorithm, priv_key_str)
  </a>
  
    <nav class="md-nav" aria-label="create_asymmetric_pub_key(algorithm, priv_key_str)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_asymmetric_pub_key-output" class="md-nav__link">
    create_asymmetric_pub_key output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_asymmetric_pub_key-parameters" class="md-nav__link">
    create_asymmetric_pub_key parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_dh_parameterskey_len" class="md-nav__link">
    create_dh_parameters(key_len)
  </a>
  
    <nav class="md-nav" aria-label="create_dh_parameters(key_len)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_dh_parameters-output" class="md-nav__link">
    create_dh_parameters output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_dh_parameters-parameters" class="md-nav__link">
    create_dh_parameters parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_digestdigest_type-str" class="md-nav__link">
    create_digest(digest_type, str)
  </a>
  
    <nav class="md-nav" aria-label="create_digest(digest_type, str)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_digest-output" class="md-nav__link">
    create_digest output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_digest-parameters" class="md-nav__link">
    create_digest parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption-threshold-variables" class="md-nav__link">
    Encryption threshold variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption_udfdh_bits_threshold" class="md-nav__link">
    encryption_udf.dh_bits_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption_udfdsa_bits_threshold" class="md-nav__link">
    encryption_udf.dsa_bits_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption_udfrsa_bits_threshold" class="md-nav__link">
    encryption_udf.rsa_bits_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninstall-component_encryption_udf" class="md-nav__link">
    Uninstall component_encryption_udf
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="using-amz-kms.html" class="md-nav__link">
        Using the Amazon Key Management Service (AWS KMS)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="rotating-master-key.html" class="md-nav__link">
        Rotating the Master Key
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-tables.html" class="md-nav__link">
        Encrypting File-Per-Table Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-tablespaces.html" class="md-nav__link">
        Encrypting a Schema or a General Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-system-tablespace.html" class="md-nav__link">
        Encrypting the System Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-temporary-files.html" class="md-nav__link">
        Encrypting Temporary Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-binlogs.html" class="md-nav__link">
        Encrypting Binary Log Files and Relay Log Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-redo-log.html" class="md-nav__link">
        Encrypting the Redo Log files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-undo-tablespace.html" class="md-nav__link">
        Encrypting the Undo Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-threads.html" class="md-nav__link">
        Working with Advanced Encryption Key Rotation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="encrypting-doublewrite-buffers.html" class="md-nav__link">
        Encrypting Doublewrite Buffers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="verifying-encryption.html" class="md-nav__link">
        Verifying the Encryption for Tables, Tablespaces, and Schemas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ssl-improvement.html" class="md-nav__link">
        SSL Improvements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="data-masking.html" class="md-nav__link">
        Data Masking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="system-variables.html" class="md-nav__link">
        Server variables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13">
          Diagnostics Improvements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Diagnostics Improvements" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Diagnostics Improvements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/user_stats.html" class="md-nav__link">
        User Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/slow_extended.html" class="md-nav__link">
        Slow Query Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/innodb_show_status.html" class="md-nav__link">
        Extended Show Engine InnoDB Status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/show_engines.html" class="md-nav__link">
        Show Storage Engines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/process_list.html" class="md-nav__link">
        Process List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/misc_info_schema_tables.html" class="md-nav__link">
        Misc. INFORMATION_SCHEMA Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/thread_based_profiling.html" class="md-nav__link">
        Thread Based Profiling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/innodb_fragmentation_count.html" class="md-nav__link">
        InnoDB Page Fragmentation Counters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/stacktrace.html" class="md-nav__link">
        Stacktrace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/libcoredumper.html" class="md-nav__link">
        Libcoredumper
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Percona MyRocks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Percona MyRocks" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Percona MyRocks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/index.html" class="md-nav__link">
        Percona MyRocks Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/install.html" class="md-nav__link">
        Percona MyRocks Installation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/added-features.html" class="md-nav__link">
        Updated Supported Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/limitations.html" class="md-nav__link">
        MyRocks Limitations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/differences.html" class="md-nav__link">
        Differences between Percona MyRocks and Facebook MyRocks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/information-schema-tables.html" class="md-nav__link">
        MyRocks Information Schema Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/variables.html" class="md-nav__link">
        MyRocks Server Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/status_variables.html" class="md-nav__link">
        MyRocks Status Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/gap_locks_detection.html" class="md-nav__link">
        Gap locks detection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/data_loading.html" class="md-nav__link">
        Data Loading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/zenfs.html" class="md-nav__link">
        Installing and configuring Percona Server for MySQL with ZenFS support
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15">
          TokuDB
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="TokuDB" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          TokuDB
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_intro.html" class="md-nav__link">
        TokuDB Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_installation.html" class="md-nav__link">
        TokuDB Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/using_tokudb.html" class="md-nav__link">
        Using TokuDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/fast_updates.html" class="md-nav__link">
        Fast Updates with TokuDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_files_and_file_types.html" class="md-nav__link">
        TokuDB files and file types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_file_management.html" class="md-nav__link">
        TokuDB file management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_background_analyze_table.html" class="md-nav__link">
        TokuDB Background ANALYZE TABLE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_variables.html" class="md-nav__link">
        TokuDB Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_status_variables.html" class="md-nav__link">
        TokuDB Status Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_fractal_tree_indexing.html" class="md-nav__link">
        TokuDB Fractal Tree Indexing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_troubleshooting.html" class="md-nav__link">
        TokuDB Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_performance_schema.html" class="md-nav__link">
        TokuDB Performance Schema Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_faq.html" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/removing_tokudb.html" class="md-nav__link">
        Migrating and Removing the TokuDB storage engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/toku_backup.html" class="md-nav__link">
        Percona TokuBackup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16" type="checkbox" id="__nav_16" >
      
      
      
      
        <label class="md-nav__link" for="__nav_16">
          Release notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          Release notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/release-notes_index.html" class="md-nav__link">
        Percona Server for MySQL 8.0 Release notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0.29-21.html" class="md-nav__link">
        Percona Server for MySQL 8.0.29-21 (2022-08-08)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.28-20.html" class="md-nav__link">
        Percona Server for MySQL 8.0.28-20 (2022-06-20)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.28-19.html" class="md-nav__link">
        Percona Server for MySQL 8.0.28-19 (2022-05-12)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.27-18.html" class="md-nav__link">
        Percona Server for MySQL 8.0.27-18 (2022-03-02)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.26-17.html" class="md-nav__link">
        Percona Server for MySQL 8.0.26-17 (2022-01-26)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.26-16.html" class="md-nav__link">
        Percona Server for MySQL 8.0.26-16 (2021-10-20)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.25-15.html" class="md-nav__link">
        Percona Server for MySQL 8.0.25-15 (2021-07-13)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.23-14.html" class="md-nav__link">
        Percona Server for MySQL 8.0.23-14 (2021-05-12)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.22-13.html" class="md-nav__link">
        Percona Server for MySQL 8.0.22-13 (2020-12-14)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.21-12.html" class="md-nav__link">
        Percona Server for MySQL 8.0.21-12 (2020-10-13)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.20-11.html" class="md-nav__link">
        Percona Server for MySQL 8.0.20-11 (2020-07-21)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.19-10.html" class="md-nav__link">
        Percona Server for MySQL 8.0.19-10 (2020-03-23)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.18-9.html" class="md-nav__link">
        Percona Server for MySQL 8.0.18-9
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.17-8.html" class="md-nav__link">
        Percona Server for MySQL 8.0.17-8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.16-7.html" class="md-nav__link">
        Percona Server for MySQL 8.0.16-7
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.15-6.html" class="md-nav__link">
        Percona Server for MySQL 8.0.15-6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.15-5.html" class="md-nav__link">
        Percona Server for MySQL 8.0.15-5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.14.html" class="md-nav__link">
        Percona Server for MySQL 8.0.14
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.13-4.html" class="md-nav__link">
        Percona Server for MySQL 8.0.13-4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.13-3.html" class="md-nav__link">
        Percona Server for MySQL 8.0.13-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.12-2rc1.html" class="md-nav__link">
        Percona Server for MySQL 8.0.12-2rc1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17" type="checkbox" id="__nav_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_17">
          References
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="References" data-md-level="1">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upstream-bug-fixes.html" class="md-nav__link">
        List of upstream MySQL bugs fixed in Percona Server for MySQL 8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ps-variables.html" class="md-nav__link">
        List of variables introduced in Percona Server for MySQL 8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../development.html" class="md-nav__link">
        Development of Percona Server for MySQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trademark-policy.html" class="md-nav__link">
        Trademark Policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../index_info_schema_tables.html" class="md-nav__link">
        Index of INFORMATION_SCHEMA Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq.html" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../copyright.html" class="md-nav__link">
        Copyright and Licensing Information
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../glossary.html" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
   <label class="md-nav__title" for="__drawer">
    <a href="https://learn.percona.com/download-percona-server-8-0-manual" onclick="_gaq.push(['b._trackEvent', 'Percona Server', 'Download', 'Download Manual Percona Server']);" class="md-nav__link md-nav__link--active">
      Download PDF
    </a>
  </label> 
  </ul>
</nav>

                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-component_encryption_udf" class="md-nav__link">
    Install component_encryption_udf
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-defined-functions-described" class="md-nav__link">
    User-Defined Functions Described
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asymmetric_decryptalgorithm-crypt_str-key_str" class="md-nav__link">
    asymmetric_decrypt(algorithm, crypt_str, key_str)
  </a>
  
    <nav class="md-nav" aria-label="asymmetric_decrypt(algorithm, crypt_str, key_str)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asymmetric_derivepub_key_str-priv_key_str" class="md-nav__link">
    asymmetric_derive(pub_key_str, priv_key_str)
  </a>
  
    <nav class="md-nav" aria-label="asymmetric_derive(pub_key_str, priv_key_str)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asymmetric_derive-output" class="md-nav__link">
    asymmetric_derive output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asymmetric_derive-parameters" class="md-nav__link">
    asymmetric_derive parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asymmetric_encryptalgorithm-str-key_str" class="md-nav__link">
    asymmetric_encrypt(algorithm, str, key_str)
  </a>
  
    <nav class="md-nav" aria-label="asymmetric_encrypt(algorithm, str, key_str)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asymmetric_encrypt-output" class="md-nav__link">
    asymmetric_encrypt output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asymmetric_encrypt-parameters" class="md-nav__link">
    asymmetric_encrypt parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asymmetric_signalgorithm-digest_str-priv_key_str-digest_type" class="md-nav__link">
    asymmetric_sign(algorithm, digest_str, priv_key_str, digest_type)
  </a>
  
    <nav class="md-nav" aria-label="asymmetric_sign(algorithm, digest_str, priv_key_str, digest_type)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asymmetric_sign-output" class="md-nav__link">
    asymmetric_sign output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asymmetric_sign-parameters" class="md-nav__link">
    asymmetric_sign parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asymmetric_verifyalgorithm-digest_str-sig_str-pub_key_str-digest_type" class="md-nav__link">
    asymmetric_verify(algorithm, digest_str, sig_str, pub_key_str, digest_type)
  </a>
  
    <nav class="md-nav" aria-label="asymmetric_verify(algorithm, digest_str, sig_str, pub_key_str, digest_type)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asymmetric_verify-output" class="md-nav__link">
    asymmetric_verify output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asymmetric_verify-parameters" class="md-nav__link">
    asymmetric_verify parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_asymmetric_priv_keyalgorithm-key_len-dh_parameters" class="md-nav__link">
    create_asymmetric_priv_key(algorithm, (key_len | dh_parameters))
  </a>
  
    <nav class="md-nav" aria-label="create_asymmetric_priv_key(algorithm, (key_len | dh_parameters))">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_asymmetric_priv_key-output" class="md-nav__link">
    create_asymmetric_priv_key output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_asymmetric_priv_key-parameters" class="md-nav__link">
    create_asymmetric_priv_key parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_asymmetric_pub_keyalgorithm-priv_key_str" class="md-nav__link">
    create_asymmetric_pub_key(algorithm, priv_key_str)
  </a>
  
    <nav class="md-nav" aria-label="create_asymmetric_pub_key(algorithm, priv_key_str)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_asymmetric_pub_key-output" class="md-nav__link">
    create_asymmetric_pub_key output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_asymmetric_pub_key-parameters" class="md-nav__link">
    create_asymmetric_pub_key parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_dh_parameterskey_len" class="md-nav__link">
    create_dh_parameters(key_len)
  </a>
  
    <nav class="md-nav" aria-label="create_dh_parameters(key_len)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_dh_parameters-output" class="md-nav__link">
    create_dh_parameters output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_dh_parameters-parameters" class="md-nav__link">
    create_dh_parameters parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create_digestdigest_type-str" class="md-nav__link">
    create_digest(digest_type, str)
  </a>
  
    <nav class="md-nav" aria-label="create_digest(digest_type, str)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create_digest-output" class="md-nav__link">
    create_digest output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_digest-parameters" class="md-nav__link">
    create_digest parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption-threshold-variables" class="md-nav__link">
    Encryption threshold variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption_udfdh_bits_threshold" class="md-nav__link">
    encryption_udf.dh_bits_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption_udfdsa_bits_threshold" class="md-nav__link">
    encryption_udf.dsa_bits_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption_udfrsa_bits_threshold" class="md-nav__link">
    encryption_udf.rsa_bits_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninstall-component_encryption_udf" class="md-nav__link">
    Uninstall component_encryption_udf
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                <!-- Edit button -->
                
                  <a
                    href="https://github.com/percona/psmysql-docs/edit/8.0/docs/security/encryption-functions.md"
                    title="Edit this page"
                    class="md-content__button md-icon"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
                  </a>
                

                <!--
                  Hack: check whether the content contains a h1 headline. If it
                  doesn't, the page title (or respectively site name) is used
                  as the main headline.
                -->
                

                <!-- Markdown content -->
                <h1 id="encryption-functions">Encryption functions<a class="headerlink" href="#encryption-functions" title="Permanent link">&para;</a></h1>
<p>Percona Server for MySQL 8.0.28-20 adds encryption functions and variables to manage the encryption range. The functions may take an algorithm argument. Encryption converts plaintext into ciphertext using a key and an encryption algorithm.</p>
<p>You can also use the user-defined functions with the PEM format keys generated externally by the OpenSSL utility.</p>
<p>A digest uses plaintext and generates a hash value. This hash value can verify if the plaintext is unmodified. You can also sign or verify on digests to ensure that the original plaintext was not modified. You cannot decrypt the original text from the hash value.</p>
<p>When choosing key lengths, consider the following:</p>
<ul>
<li>
<p>Encryption strength increases with the key size and, also, the key generation time.</p>
</li>
<li>
<p>If performance is important and the functions are frequently used, use symmetric encryption. Symmetric encryption functions are faster than asymmetric encryption functions. Moreover, asymmetric encryption has restrictions on the maximum length of a message being encrypted. For example, for RSA the algorithm maximum message size is the key length in bytes (key length in bits / 8) minus 11.</p>
</li>
</ul>
<p>The following table and sections describe the functions. For examples, see function examples.</p>
<table>
<thead>
<tr>
<th>Function Name</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#asymmetric_decryptalgorithm-crypt_str-key_str">asymmetric_decrypt(algorithm, crypt_str, key_str)</a></td>
</tr>
<tr>
<td><a href="#asymmetric_derivepub_key_str-priv_key_str">asymmetric_derive(pub_key_str, priv_key_str)</a></td>
</tr>
<tr>
<td><a href="#asymmetric_encryptalgorithm-str-key_str">asymmetric_encrypt(algorithm, str, key_str)</a></td>
</tr>
<tr>
<td><a href="#asymmetric_signalgorithm-digest_str-priv_key_str-digest_type">asymmetric_sign(algorithm, digest_str, priv_key_str, digest_type)</a></td>
</tr>
<tr>
<td><a href="#asymmetric_verifyalgorithm-digest_str-sig_str-pub_key_str-digest_type">asymmetric_verify(algorithm, digest_str, sig_str, pub_key_str, digest_type)</a></td>
</tr>
<tr>
<td><a href="#create_asymmetric_priv_keyalgorithm-key_len--dh_parameters">create_asymmetric_priv_key(algorithm, (key_len &#124; dh_parameters))</a></td>
</tr>
<tr>
<td><a href="#create_asymmetric_pub_keyalgorithm-priv_key_str">create_asymmetric_pub_key(algorithm, priv_key_str)</a></td>
</tr>
<tr>
<td><a href="#create_dh_parameterskey_len">create_dh_parameters(key_len)</a></td>
</tr>
<tr>
<td><a href="#create_digestdigest_type-str">create_digest(digest_type, str)</a></td>
</tr>
</tbody>
</table>
<p>The following table describes the Encryption threshold variables which can be used to set the maximum value for a key length based on the type of encryption.</p>
<table>
<thead>
<tr>
<th>Variable Name</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#encryption_udfdh_bits_threshold">encryption_udf.dh_bits_threshold</a></td>
</tr>
<tr>
<td><a href="#encryption_udfdsa_bits_threshold">encryption_udf.dsa_bits_threshold</a></td>
</tr>
<tr>
<td><a href="#encryption_udfrsa_bits_threshold">encryption_udf.rsa_bits_threshold</a></td>
</tr>
</tbody>
</table>
<h2 id="install-component_encryption_udf">Install component_encryption_udf<a class="headerlink" href="#install-component_encryption_udf" title="Permanent link">&para;</a></h2>
<p>Use the <a href="https://dev.mysql.com/doc/refman/8.0/en/install-component.html">Install Component Statement</a> to add the component_encryption_udf component. The functions and variables are available. The user-defined functions and the Encryption threshold variables are auto-registered. There is no requirement to invoke <code>CREATE FUNCTION ... SONAME ...</code>.</p>
<p>The <code>INSERT</code> privilege on the <code>mysql.component</code> system table is required to run the <code>INSTALL COMPONENT</code> statement. To register the component, the operation adds a row to this table.</p>
<p>The following is an example of the installation command:</p>
<div class="highlight"><pre><span></span><code><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">INSTALL</span><span class="w"> </span><span class="n">COMPONENT</span><span class="w"> </span><span class="s1">&#39;file://component_encryption_udf&#39;</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are Compiling Percona Server for MySQL from Source, the Encryption UDF component is built by default when Percona Server for MySQL is built. Specify the <code>-DWITH_ENCRYPTION_UDF=OFF</code> cmake option to exclude it.</p>
</div>
<h2 id="user-defined-functions-described">User-Defined Functions Described<a class="headerlink" href="#user-defined-functions-described" title="Permanent link">&para;</a></h2>
<h2 id="asymmetric_decryptalgorithm-crypt_str-key_str">asymmetric_decrypt(<em>algorithm, crypt_str, key_str</em>)<a class="headerlink" href="#asymmetric_decryptalgorithm-crypt_str-key_str" title="Permanent link">&para;</a></h2>
<p>Decrypts an encrypted string using the algorithm and a key string.</p>
<h3 id="returns">Returns<a class="headerlink" href="#returns" title="Permanent link">&para;</a></h3>
<p>A plaintext as a string.</p>
<h3 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h3>
<p>The following are the function’s parameters:</p>
<ul>
<li>
<p>algorithm - the encryption algorithm supports RSA to decrypt the string.</p>
</li>
<li>
<p>key_str - a string in the PEM format. The key string must have the following attributes:</p>
<ul>
<li>
<p>Valid</p>
</li>
<li>
<p>Public or private key string that corresponds with the private or public key string used with the asymmetric_encrypt function.</p>
</li>
</ul>
</li>
</ul>
<h2 id="asymmetric_derivepub_key_str-priv_key_str">asymmetric_derive(<em>pub_key_str, priv_key_str</em>)<a class="headerlink" href="#asymmetric_derivepub_key_str-priv_key_str" title="Permanent link">&para;</a></h2>
<p>Derives a symmetric key using a public key generated on one side and a private key generated on another.</p>
<h3 id="asymmetric_derive-output">asymmetric_derive output<a class="headerlink" href="#asymmetric_derive-output" title="Permanent link">&para;</a></h3>
<p>A key as a binary string.</p>
<h3 id="asymmetric_derive-parameters">asymmetric_derive parameters<a class="headerlink" href="#asymmetric_derive-parameters" title="Permanent link">&para;</a></h3>
<p>The <code>pub_key_str</code> must be a public key in the PEM format and generated using the Diffie-Hellman (DH) algorithm.</p>
<p>The <code>priv_key_str</code> must be a private key in the PEM format and generated using the Diffie-Hellman (DH) algorithm.</p>
<h2 id="asymmetric_encryptalgorithm-str-key_str">asymmetric_encrypt(<em>algorithm, str, key_str</em>)<a class="headerlink" href="#asymmetric_encryptalgorithm-str-key_str" title="Permanent link">&para;</a></h2>
<p>Encrypts a string using the algorithm and a key string.</p>
<h3 id="asymmetric_encrypt-output">asymmetric_encrypt output<a class="headerlink" href="#asymmetric_encrypt-output" title="Permanent link">&para;</a></h3>
<p>A ciphertext as a binary string.</p>
<h3 id="asymmetric_encrypt-parameters">asymmetric_encrypt parameters<a class="headerlink" href="#asymmetric_encrypt-parameters" title="Permanent link">&para;</a></h3>
<p>The parameters are the following:</p>
<ul>
<li>
<p>algorithm - the encryption algorithm supports RSA to encrypt the string.</p>
</li>
<li>
<p>str - measured in bytes. The length of the string must not be greater than the key_str modulus length in bytes - 11 (additional bytes used for PKCS1 padding)</p>
</li>
<li>
<p>key_str - a key (either private or public) in the PEM format</p>
</li>
</ul>
<h2 id="asymmetric_signalgorithm-digest_str-priv_key_str-digest_type">asymmetric_sign(<em>algorithm, digest_str, priv_key_str, digest_type</em>)<a class="headerlink" href="#asymmetric_signalgorithm-digest_str-priv_key_str-digest_type" title="Permanent link">&para;</a></h2>
<p>Signs a digest string using a private key string.</p>
<h3 id="asymmetric_sign-output">asymmetric_sign output<a class="headerlink" href="#asymmetric_sign-output" title="Permanent link">&para;</a></h3>
<p>A signature is a binary string.</p>
<h3 id="asymmetric_sign-parameters">asymmetric_sign parameters<a class="headerlink" href="#asymmetric_sign-parameters" title="Permanent link">&para;</a></h3>
<p>The parameters are the following:</p>
<ul>
<li>
<p>algorithm - the encryption algorithm supports either RSA or DSA to encrypt the string.</p>
</li>
<li>
<p>digest_str - the digest binary string that is signed. Invoking create_digest generates the digest.</p>
</li>
<li>
<p>priv_key_str - the private key used to sign the digest string. The key must be in the PEM format.</p>
</li>
<li>
<p>digest_type - the supported values are listed in the digest type table of create_digest.</p>
</li>
</ul>
<h2 id="asymmetric_verifyalgorithm-digest_str-sig_str-pub_key_str-digest_type">asymmetric_verify(<em>algorithm, digest_str, sig_str, pub_key_str, digest_type</em>)<a class="headerlink" href="#asymmetric_verifyalgorithm-digest_str-sig_str-pub_key_str-digest_type" title="Permanent link">&para;</a></h2>
<p>Verifies whether the signature string matches the digest string.</p>
<h3 id="asymmetric_verify-output">asymmetric_verify output<a class="headerlink" href="#asymmetric_verify-output" title="Permanent link">&para;</a></h3>
<p>A <code>1</code> (success) or a <code>0</code> (failure).</p>
<h3 id="asymmetric_verify-parameters">asymmetric_verify parameters<a class="headerlink" href="#asymmetric_verify-parameters" title="Permanent link">&para;</a></h3>
<p>The parameters are the following:</p>
<ul>
<li>
<p>algorithm - supports either ‘RSA’ or ‘DSA’.</p>
</li>
<li>
<p>digest_str - invoking create_digest generates this digest binary string.</p>
</li>
<li>
<p>sig_str - the signature binary string. Invoking asymmetric_sign generates this string.</p>
</li>
<li>
<p>pub_key_str - the signer’s public key string. This string must correspond to the private key passed to asymmetric_sign to generate the signature string. The string must be in the PEM format.</p>
</li>
<li>
<p>digest_type - the supported values are listed in the digest type table of create_digest</p>
</li>
</ul>
<h2 id="create_asymmetric_priv_keyalgorithm-key_len-dh_parameters">create_asymmetric_priv_key(<em>algorithm, (key_len | dh_parameters)</em>)<a class="headerlink" href="#create_asymmetric_priv_keyalgorithm-key_len-dh_parameters" title="Permanent link">&para;</a></h2>
<p>Generates a private key using the given algorithm and key length for RSA or DSA
or Diffie-Hellman parameters for DH. For RSA or DSA, if needed, execute <code>KILL
[QUERY|CONNECTION] &lt;id&gt;</code> to terminate a long-lasting key generation. The
DH key generation from existing parameters is a quick operation. Therefore, it
does not make sense to terminate that operation with <code>KILL</code>.</p>
<h3 id="create_asymmetric_priv_key-output">create_asymmetric_priv_key output<a class="headerlink" href="#create_asymmetric_priv_key-output" title="Permanent link">&para;</a></h3>
<p>The key as a string in the PEM format.</p>
<h3 id="create_asymmetric_priv_key-parameters">create_asymmetric_priv_key parameters<a class="headerlink" href="#create_asymmetric_priv_key-parameters" title="Permanent link">&para;</a></h3>
<p>The parameters are the following:</p>
<ul>
<li>
<p>algorithm - the supported values are ‘RSA’, ‘DSA’, or ‘DH’.</p>
</li>
<li>
<p>key_len - the supported key length values are the following:</p>
<ul>
<li>
<p>RSA - the minimum length is 1,024. The maximum length is 16,384.</p>
</li>
<li>
<p>DSA - the minimum length is 1,024. The maximum length is 9,984.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The key length limits are defined by OpenSSL. To change the maximum key length, use either encryption_udf.rsa_bits_threshold or encryption_udf.dsa_bits_threshold.</p>
</div>
</li>
<li>
<p>dh_parameters - Diffie-Hellman (DH) parameters. Invoking create_dh_parameter creates the DH parameters.</p>
</li>
</ul>
<h2 id="create_asymmetric_pub_keyalgorithm-priv_key_str">create_asymmetric_pub_key(<em>algorithm, priv_key_str</em>)<a class="headerlink" href="#create_asymmetric_pub_keyalgorithm-priv_key_str" title="Permanent link">&para;</a></h2>
<p>Derives a public key from the given private key using the given algorithm.</p>
<h3 id="create_asymmetric_pub_key-output">create_asymmetric_pub_key output<a class="headerlink" href="#create_asymmetric_pub_key-output" title="Permanent link">&para;</a></h3>
<p>The key as a string in the PEM format.</p>
<h3 id="create_asymmetric_pub_key-parameters">create_asymmetric_pub_key parameters<a class="headerlink" href="#create_asymmetric_pub_key-parameters" title="Permanent link">&para;</a></h3>
<p>The parameters are the following:</p>
<ul>
<li>
<p>algorithm - the supported values are ‘RSA’, ‘DSA’, or ‘DH’.</p>
</li>
<li>
<p>priv_key_str - must be a valid key string in the PEM format.</p>
</li>
</ul>
<h2 id="create_dh_parameterskey_len">create_dh_parameters(<em>key_len</em>)<a class="headerlink" href="#create_dh_parameterskey_len" title="Permanent link">&para;</a></h2>
<p>Creates parameters for generating a Diffie-Hellman (DH) private/public key pair.
If needed, execute <code>KILL [QUERY|CONNECTION] &lt;id&gt;</code> to terminate the generation of long-lasting parameters.</p>
<p>Generating the DH parameters can take more time than generating the RSA keys or
the DSA keys.
OpenSSL defines the parameter length limits. To change the
maximum parameter length, use encryption_udf.dh_bits_threshold.</p>
<h3 id="create_dh_parameters-output">create_dh_parameters output<a class="headerlink" href="#create_dh_parameters-output" title="Permanent link">&para;</a></h3>
<p>A string in the PEM format and can be passed to create_asymmetric_private_key.</p>
<h3 id="create_dh_parameters-parameters">create_dh_parameters parameters<a class="headerlink" href="#create_dh_parameters-parameters" title="Permanent link">&para;</a></h3>
<p>The parameters are the following:</p>
<ul>
<li>key_len - the range for the key length is from 1024 to 10,000. The default value is 10,000.</li>
</ul>
<h2 id="create_digestdigest_type-str">create_digest(<em>digest_type, str</em>)<a class="headerlink" href="#create_digestdigest_type-str" title="Permanent link">&para;</a></h2>
<p>Creates a digest from the given string using the given digest type. The digest string can be used with asymmetric_sign and asymmetric_verify.</p>
<h3 id="create_digest-output">create_digest output<a class="headerlink" href="#create_digest-output" title="Permanent link">&para;</a></h3>
<p>The digest of the given string as a binary string</p>
<h3 id="create_digest-parameters">create_digest parameters<a class="headerlink" href="#create_digest-parameters" title="Permanent link">&para;</a></h3>
<p>The parameters are the following:</p>
<ul>
<li>
<p>digest_type - the supported values are the following (based on the OpenSSL version):</p>
<table>
<thead>
<tr>
<th>Value Name for OpenSSL 1.0.2</th>
<th>Value Name for OpenSSL 1.1.x addition</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘MD5’</td>
<td>‘BLAKE2B512’</td>
</tr>
<tr>
<td>‘SHA1’</td>
<td>‘BLAKE2S256’</td>
</tr>
<tr>
<td>‘SHA224’</td>
<td>‘RIPEMD’</td>
</tr>
<tr>
<td>‘SHA256’</td>
<td>‘RMD160’</td>
</tr>
<tr>
<td>‘SHA384’</td>
<td>‘SHAKE128’</td>
</tr>
<tr>
<td>‘SHA512’</td>
<td>‘SHAKE256’</td>
</tr>
<tr>
<td>‘MD4’</td>
<td>‘SM3’</td>
</tr>
<tr>
<td>‘RIPEMD160’</td>
<td>‘WHIRLPOOL’</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>str - String used to generate the digest string.</p>
</li>
</ul>
<h3 id="encryption-threshold-variables">Encryption threshold variables<a class="headerlink" href="#encryption-threshold-variables" title="Permanent link">&para;</a></h3>
<p>The maximum key length limits are defined by OpenSSL. Server administrators can limit the maximum key length using the encryption threshold variables.</p>
<p>The variables are automatically registered when component_encryption_udf is installed.</p>
<table>
<thead>
<tr>
<th>Variable Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>encryption_udf.dh_bits_threshold</td>
</tr>
</tbody>
</table>
<h3 id="encryption_udfdh_bits_threshold"><code>encryption_udf.dh_bits_threshold</code><a class="headerlink" href="#encryption_udfdh_bits_threshold" title="Permanent link">&para;</a></h3>
<p>The variable sets the maximum limit for the create_dh_parameters user-defined function and takes precedence over the OpenSSL maximum length value.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>command-line</td>
<td>Yes</td>
</tr>
<tr>
<td>scope</td>
<td>Global</td>
</tr>
<tr>
<td>data type</td>
<td>unsigned integer</td>
</tr>
<tr>
<td>default</td>
<td>10000</td>
</tr>
</tbody>
</table>
<p>The range for this variable is from 1024 to 10,000. The default value is 10,000.</p>
<h3 id="encryption_udfdsa_bits_threshold">encryption_udf.dsa_bits_threshold<a class="headerlink" href="#encryption_udfdsa_bits_threshold" title="Permanent link">&para;</a></h3>
<p>The variable sets the threshold limits for create_asymmetric_priv_key user-defined function when the function is invoked with the DSA parameter and takes precedence over the OpenSSL maximum length value.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>command-line</td>
<td>Yes</td>
</tr>
<tr>
<td>scope</td>
<td>Global</td>
</tr>
<tr>
<td>data type</td>
<td>unsigned integer</td>
</tr>
<tr>
<td>default</td>
<td>9984</td>
</tr>
</tbody>
</table>
<p>The range for this variable is from 1,024 to 9,984. The default value is 9,984.</p>
<h3 id="encryption_udfrsa_bits_threshold">encryption_udf.rsa_bits_threshold<a class="headerlink" href="#encryption_udfrsa_bits_threshold" title="Permanent link">&para;</a></h3>
<p>The variable sets the threshold limits for the create_asymmetric_priv_key user-defined function when the function is invoked with the RSA parameter and takes precedence over the OpenSSL maximum length value.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>command-line</td>
<td>Yes</td>
</tr>
<tr>
<td>scope</td>
<td>Global</td>
</tr>
<tr>
<td>data type</td>
<td>unsigned integer</td>
</tr>
<tr>
<td>default</td>
<td>16384</td>
</tr>
</tbody>
</table>
<p>The range for this variable is from 1,024 to 16,384. The default value is 16,384.</p>
<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h3>
<p>Code examples for the following operations:</p>
<ul>
<li>
<p>set the threshold variables</p>
</li>
<li>
<p>create a private key</p>
</li>
<li>
<p>create a public key</p>
</li>
<li>
<p>encrypt data</p>
</li>
<li>
<p>decrypt data</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">-- Set Global variable</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="k">GLOBAL</span><span class="w"> </span><span class="n">encryption_udf</span><span class="p">.</span><span class="n">dh_bits_threshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4096</span><span class="p">;</span><span class="w"></span>

<span class="c1">-- Set Global variable</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="k">GLOBAL</span><span class="w"> </span><span class="n">encryption_udf</span><span class="p">.</span><span class="n">rsa_bits_threshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4096</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">-- Create private key</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">private_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_asymmetric_priv_key</span><span class="p">(</span><span class="s1">&#39;RSA&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3072</span><span class="p">);</span><span class="w"></span>

<span class="c1">-- Create public key</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">public_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_asymmetric_pub_key</span><span class="p">(</span><span class="s1">&#39;RSA&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">private_key</span><span class="p">);</span><span class="w"></span>

<span class="c1">-- Encrypt data using the private key (you can also use the public key)</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">ciphertext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">asymmetric_encrypt</span><span class="p">(</span><span class="s1">&#39;RSA&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;This text is secret&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">private_key</span><span class="p">);</span><span class="w"></span>

<span class="c1">-- Decrypt data using the public key (you can also use the private key)</span>
<span class="c1">-- The decrypted value @plaintext should be identical to the original &#39;This text is secret&#39;</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">plaintext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">asymmetric_decrypt</span><span class="p">(</span><span class="s1">&#39;RSA&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ciphertext</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">public_key</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Code examples for the following operations:</p>
<ul>
<li>
<p>generate a digest string</p>
</li>
<li>
<p>generate a digest signature</p>
</li>
<li>
<p>verify the signature against the digest</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">-- Generate a digest string</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">digest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_digest</span><span class="p">(</span><span class="s1">&#39;SHA256&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;This is the text for digest&#39;</span><span class="p">);</span><span class="w"></span>

<span class="c1">-- Generate a digest signature</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">asymmetric_sign</span><span class="p">(</span><span class="s1">&#39;RSA&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">digest</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">private_key</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SHA256&#39;</span><span class="p">);</span><span class="w"></span>

<span class="c1">-- Verify the signature against the digest</span>
<span class="c1">-- The @verify_signature must be equal to 1</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">verify_signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">asymmetric_verify</span><span class="p">(</span><span class="s1">&#39;RSA&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">digest</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">signature</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">public_key</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SHA256&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Code examples for the following operations:</p>
<ul>
<li>
<p>generate a DH parameter</p>
</li>
<li>
<p>generates two DH key pairs</p>
</li>
<li>
<p>generate a symmetric key using the public_1 and the private_2</p>
</li>
<li>
<p>generate a symmetric key using the public_2 and the private_1</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="c1">-- Generate a DH parameter</span>
<span class="w"> </span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">dh_parameter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_dh_parameters</span><span class="p">(</span><span class="mi">3072</span><span class="p">);</span><span class="w"></span>

<span class="w"> </span><span class="c1">-- Generate DH key pairs</span>
<span class="w"> </span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">private_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_asymmetric_priv_key</span><span class="p">(</span><span class="s1">&#39;DH&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">dh_parameter</span><span class="p">);</span><span class="w"></span>
<span class="w"> </span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">public_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_asymmetric_pub_key</span><span class="p">(</span><span class="s1">&#39;DH&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">private_1</span><span class="p">);</span><span class="w"></span>
<span class="w"> </span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">private_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_asymmetric_priv_key</span><span class="p">(</span><span class="s1">&#39;DH&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">dh_parameter</span><span class="p">);</span><span class="w"></span>
<span class="w"> </span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">public_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_asymmetric_pub_key</span><span class="p">(</span><span class="s1">&#39;DH&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">private_2</span><span class="p">);</span><span class="w"></span>

<span class="c1">-- Generate a symmetric key using the public_1 and private_2</span>
<span class="c1">-- The @symmetric_1 must be identical to @symmetric_2</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">symmetric_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">asymmetric_derive</span><span class="p">(</span><span class="o">@</span><span class="n">public_1</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">private_2</span><span class="p">);</span><span class="w"></span>

<span class="c1">-- Generate a symmetric key using the public_2 and private_1</span>
<span class="c1">-- The @symmetric_2 must be identical to @symmetric_1</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">symmetric_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">asymmetric_derive</span><span class="p">(</span><span class="o">@</span><span class="n">public_2</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">private_1</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>Code examples for the following operations:</p>
<ul>
<li>
<p>create a private key using a <code>SET</code> statement</p>
</li>
<li>
<p>create a private key using a  <code>SELECT</code> statement</p>
</li>
<li>
<p>create a private key using an <code>INSERT</code> statement</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">private_key1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_asymmetric_priv_key</span><span class="p">(</span><span class="s1">&#39;RSA&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3072</span><span class="p">);</span><span class="w"></span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">create_asymmetric_priv_key</span><span class="p">(</span><span class="s1">&#39;RSA&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3072</span><span class="p">)</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">private_key2</span><span class="p">;</span><span class="w"></span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">key_table</span><span class="w"> </span><span class="k">VALUES</span><span class="p">(</span><span class="n">create_asymmetric_priv_key</span><span class="p">(</span><span class="s1">&#39;RSA&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3072</span><span class="p">));</span><span class="w"></span>
</code></pre></div>
<h2 id="uninstall-component_encryption_udf">Uninstall component_encryption_udf<a class="headerlink" href="#uninstall-component_encryption_udf" title="Permanent link">&para;</a></h2>
<p>You can deactivate and uninstall the component using the <a href="https://dev.mysql.com/doc/refman/8.0/en/uninstall-component.html">Uninstall Component statement</a>.</p>
<div class="highlight"><pre><span></span><code><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">UNINSTALL</span><span class="w"> </span><span class="n">COMPONENT</span><span class="w"> </span><span class="s1">&#39;file://component_encryption_udf&#39;</span><span class="p">;</span><span class="w"></span>
</code></pre></div>

                
<div class="md-relbar2__inner md-grid">
<div class="md-content">
  <article class="md-content__inner md-typeset" role="main">    
    <h4>Contact Us </h4>
       <p>For free technical help, visit the Percona <a class="reference external" href="https://forums.percona.com/c/mysql-mariadb/percona-server-for-mysql-8-0/20" target="_blank">Community Forum</a>.<br>
        <p>To report bugs or submit feature requests, open a <a class="reference external" href="https://jira.percona.com/projects/PS/issues/" target="_blank">JIRA</a> ticket.<br>
         <p>For paid <a class="reference external" href="https://www.percona.com/services/support"> support </a> and <a class="reference external" href="https://www.percona.com/services/managed-services"> managed </a> or <a class="reference external" href="https://www.percona.com/services/consulting">consulting services </a>, contact <a class="reference external" href="https://www.percona.com/about-percona/contact" target="_blank">Percona Sales</a>.</p>
 </article>
</div>
</div>

                <!-- Last update of source file -->
                
                  
                    <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2022-09-27
    
  </small>
</div>
                  
                
              
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="using-kmip.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Using the Key Management Interoperability Protocol (KMIP)" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Using the Key Management Interoperability Protocol (KMIP)
            </div>
          </div>
        </a>
      
      
        
        <a href="using-amz-kms.html" class="md-footer__link md-footer__link--next" aria-label="Next: Using the Amazon Key Management Service (AWS KMS)" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Using the Amazon Key Management Service (AWS KMS)
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Percona LLC, &#169; 2022
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.highlight", "navigation.top", "content.tabs.link"], "search": "../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.078830c0.min.js"></script>
      
        <script src="../js/version-select.js"></script>
      
    
  </body>
</html>